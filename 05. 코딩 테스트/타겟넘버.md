---
플랫폼: 프로그래머스
문제 이름: 타겟넘버
알고리즘: 재귀, DFS
tags:
  - 재귀
  - DFS
date: 2025-09-24
aliases:
  - 재귀, DFS
복습 풀이: 250924(O), 251006(O), 251011(O)
---
# 1차 풀이
```java
import java.util.*;

class Solution {
    public int solution(int[] numbers, int target) {
        List<Integer> results = new ArrayList<>();

        calculate("", numbers, target, results);

        return results.size();
    }

    private void calculate(String target, int[] numbers, int targetNumber, List<Integer> results) {
        if (target.length() == numbers.length) {
            int sum = 0;
            for (int i = 0; i < numbers.length; i++) {
                if (target.charAt(i) == '+') {
                    sum += numbers[i];
                    continue;
                }  
                
                if (target.charAt(i) == '-') {
                    sum -= numbers[i];
                }
            }

            if (sum == targetNumber) {
                results.add(sum);
            }

            return;
        }

        calculate(target + "+",  numbers, targetNumber, results);
        calculate(target + "-",  numbers, targetNumber, results);
    }
}
```
[[순위 검색]]에서 사용된 재귀 방식과 유사하여 어렵지 않게 풀을 수 있었음
책에선 스택을 활용한 방식으로 풀이하니 참고해볼 것

# 2차 풀이
```java
class Solution {
    public int solution(int[] numbers, int target) {
        return count("", numbers, target);
    }
    
    private int count(String target, int[] numbers, int targetNumber) {
        if (target.length() == numbers.length) {
            int sum = calculate(target, numbers);
        
            return sum == targetNumber ? 1 : 0;
        }
        
        return count(target + "-", numbers, targetNumber) + count(target + "+", numbers, targetNumber);
    }
    
    private int calculate(String target, int[] numbers) {
        int result = 0;
        for (int i = 0; i < numbers.length; i++) {
            if (target.charAt(i) == '-') {
                result -= numbers[i];
            } else {
                result += numbers[i];
            }
        }
        
        return result;
    }
}
```
스택을 이용한 풀이 참고할 것.

# 3차 풀이
```java
class Solution {
    public int solution(int[] numbers, int target) {
        return count("", target, numbers);
    }
    
    private int count(String operators, int targetNumber, int[] numbers) {
        if (operators.length() == numbers.length) {
            int sum = sum(operators, numbers);
            
            return sum == targetNumber ? 1 : 0;
        }
        
        int result = 0;
        result += count(operators + "+", targetNumber, numbers) + count(operators + "-", targetNumber, numbers);
        
        return result;
    }
    
    private int sum(String operators, int[] numbers) {
        int sum = 0;
        for (int i = 0; i < numbers.length; i++) {
            if (operators.charAt(i) == '-') {
                sum -= numbers[i];
            } else {
                sum += numbers[i];
            }
        }
        
        return sum;
    }
}
```
다음번엔 스택을 이용해서 풀어보기
