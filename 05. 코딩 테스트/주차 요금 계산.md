---
플랫폼: 프로그래머스
문제 이름: 주차 요금 계산
알고리즘:
tags:
date: 2025-11-19
aliases:
복습 풀이: 251119()
---
# 1차 풀이
```java
import java.util.*;
// 1. 구현 문제
// 2. 기본 요금 + [(주차시간 - 기본시간) / 단위시간] * 단위 요금
//  2-1. fees[0] = 기본시간, fees[1] = 기본 요금, fees[2] = 단위 시간, fees[3] = 단위 요금
// 3. records는 Map<Integer, int[]>로 입/출차 시간 기록
// 4. 이후 공식에 따라 주차요금을 계산하여 차량 번호가 작은 순으로 요금 반환
class Solution {
    public int[] solution(int[] fees, String[] records) {
        int basicTime = fees[0];
        int basicPrice = fees[1];
        int perMinute = fees[2];
        int perPrice = fees[3];
        
        Map<String, Integer> parkingTimes = toMap(records);
        return parkingTimes.entrySet().stream()
            .sorted()
            .mapToInt(entry -> calculate(entry.getValue(), fees))
            .toArray();
    }
    
    private Map<String, Integer> toMap(String[] records) {
        Map<String, List<Integer>> result = new HashMap<>();
        
        for(String record : records) {
            String[] split = record.split(" ");
            int time = toMinutes(split[0]);
            String carNumber = split[1];
            
            List<Integer> times = result.getOrDefault(carNumber, new ArrayList<>());
            times.add(time);
            result.put(carNumber, times);
        }
        
        Map<String, Integer> parkingTimes = new HashMap<>();
        for (String key : result.keySet()) {
            List<Integer> times = result.get(key);
            int totalTime = 0;
            for (int i = 0; i < times.size(); i += 2) {
                int next = i + 1 == times.size() ? 23 * 60 + 59 : i + 1;
                totalTime += times.get(next) - times.get(i);                    
            }
            
            parkingTimes.put(key, totalTime);
        }
        
        return parkingTimes;
    }
    
    // 2. 기본 요금 + [(주차시간 - 기본시간) / 단위시간] * 단위 요금
    private int calculate(int parkingTime, int[] fees) {
        int basicTime = fees[0];
        int basicPrice = fees[1];
        int perMinute = fees[2];
        int perPrice = fees[3];
        
        if (parkingTime <= basicTime) return basicPrice;
        
        return basicPrice + (int) Math.ceil((parkingTime - basicTime) / perMinute) * perPrice;
    }
    
    private int toMinutes(String time) {
        String[] split = time.split(":");
        int hour = Integer.parseInt(split[0]) * 60;
        int minutes = Integer.parseInt(split[1]);
        
        return hour + minutes;
    }
}
```
33분소요