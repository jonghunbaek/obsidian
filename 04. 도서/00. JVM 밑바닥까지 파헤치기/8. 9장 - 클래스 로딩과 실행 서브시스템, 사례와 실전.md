# 1. 톰캣 - 정통 클래스 로더 아키텍처
주류 자바 웹 서버는 모두 자체 정의한 클래스 로더를 사용한다. 
그 이유는 다음과 같다.
- **같은 서버에 배포되는 애플리케이션 간에 자바 클래스 라이브러리를 격리할 필요가 있음**
- **같은 서버에 배포되는 애플리케이션 간에 자바 클래스 라이브러리를 공유할 필요가 있음**
- **웹 서버와 웹 애플리케이션 각각이 사용하는 자바 라이브러리는 서로 영향을 받지 않아야 함**
- **JSP 애플리케이션을 지원하는 웹 서버의 경우 핫스왑이 필요**
이러한 조건들 때문에 클래스 패스가 하나뿐인 구조는 다수의 웹 애플리케이션을 배포하기에 적합하지 않다. 
-> 즉, 자체 정의한 클래스 로더가 필요함

## 1.1 톰캣 5까지의 클래스 로더 아키텍처
![[JVM 9장 - 톰캣5까지의 클래스 로더 아키텍처.png|300]]
공통 클래스 로더와 그 이하의 클래스 로더들이 톰캣에서 자체 정의한 클래스 로더다.
톰캣의 디렉터리에 저장된 클래스 라이브러리들은 저장된 경로에 따라 접근 범위가 다르다.
또한 전용 클래스 로더를 디렉터리마다 따로 제공하는데 자세한 내용은 다음과 같다.
- **/common - 공통 클래스 로더**
	- 톰캣 자신과 모든 웹 애플리케이션
- **/server - 카탈리나 클래스 로더**
	- 톰캣 자신
- **/shared - 공유 클래스 로더**
	- 톰캣을 제외한 모든 웹 애플리케이션
- **/webapp/WEB-INF - 웹 앱 클래스 로더**(인스턴스가 여러 개일수 있음)
	- 해당 웹 애플리케이션
