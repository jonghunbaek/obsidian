# 1. 다양한 캐싱 전략

## 1.1 읽기 전략 - Look Aside 전략
### 동작 방식
- 데이터 조회 요청
- 캐시에 데이터가 존재하는지 확인
	- 존재한다면 캐시 히트 
	- 존재하지 않는다면 캐시 미스
- 데이터가 없다면 **DB에 접근**해 데이터를 조회
- 조회한 데이터를 캐시에 저장
### 주요 특징
레디스 장애에도 DB에서 데이터를 조회할 수 있음
대신 DB에 많은 부하가 몰릴 수 있음

데이터가 레디스에 없을 때만 저장되기 때문에 지연 로딩 구조로 볼 수 있다.
만약 트래픽이 많은 기존 서비스에 레디스를 도입하게 되면 초기에 DB에 많은 부하가 발생할 수 있다.
이를 방지 하기 위해 **레디스에 미리 데이터를 저장하는 캐시 워밍**을 수행한다.

가장 중요한 점은 캐시와 DB 사이의 데이터 정합성이 깨질 수도 있다는 점이다.
그러므로 데이터가 자주 변경되지 않는 경우에 사용하는 것이 좋다.

## 1.2 읽기 전략 - Read Through 전략
### 동작 방식
- 데이터 조회 요청
- 캐시에 데이터가 존재하는지 확인
	- 존재한다면 캐시 히트
	- 존재하지 않는다면 캐시 미스
- 데이터가 없다면 **DB에 직접 접근**해 데이터를 조회한 뒤 캐시에 해당 데이터를 갱신
- 캐시에서 데이터를 조회
### 주요 특징
Look Aside 전략과 비슷하지만 캐시 미스 이후의 과정을 수행하는 주체가 다르다.
Read Through 전략에서 **캐시에 데이터를 동기화하는 주체는 캐시 제공자에게 있다**. 
이러한 특징 덕에 데이터 베이스의 직접 접근을 최소화하고, 데이터 정합성이 깨지지 않지만 **캐시 제공자(레디스)에 장애가 생길 경우 서비스 전체 장애로 전파**될 수 있다.
이외의 주요 특징은 Look Aside 전략과 유사하다.

## 1.3 쓰기 전략 - Write Back 전략
### 동작 방식
1. 모든 데이터를 캐시에 저장
2. 일정 시간이 지난 후 DB에 마이그레이션
### 주요 특징
데이터의 저장/갱신을 캐시에서 수행 후 일정 시간마다 DB에 데이터를 마이그레이션하는 것이 주요 특징이다.
DB에 가해지는 부하를 줄일 수 있는 장점이 존재하지만 캐시에 장애가 발생하면 데이터 유실이 발생할 수도 있는 단점이 존재한다.
또한 캐시에서 데이터를 갱신하기에 데이터 정합성은 자동으로 보장된다.

이러한 특징에 **쓰기가 빈번하며, 읽기에 많은 자원이 소모되는 서비스에 유리한 전략**이다.

읽어보면 좋을 글
https://toss.tech/article/34481