---
플랫폼: 프로그래머스
알고리즘:
tags:
date: 2025-12-12
복습 풀이: 251212(X), 251220(O), 251229(O)
---
# 1차 풀이
```java
// 1. 시간 기반 구현 문제

class Solution {
    public String solution(String video_len, String pos, String op_start, String op_end, String[] commands) {
        if (isInOpening(pos, op_start, op_end)) pos = op_end;
        
        for (String command : commands) {
            if (command.equals("prev")) {
                pos = prevVideo(pos, op_start, op_end);
            } else {
                pos = nextVideo(pos, op_start, op_end, video_len);
            }
        }
        
        return pos;
    }
    
    private String prevVideo(String position, String opStart, String opEnd) {
        int minutes = Integer.parseInt(position.split(":")[0]);
        int seconds = Integer.parseInt(position.split(":")[1]);
        
        if (seconds - 10 < 0) {
            if (minutes - 1 < 0) {
                return "00:00";
            }
            
            minutes--;
            seconds = 60 - (10 - seconds);
        } else {
            seconds -= 10;
        }
        
        String minStr = minutes < 10 ? String.valueOf("0" + minutes) : String.valueOf(minutes);
        String secStr = seconds < 10 ? String.valueOf("0" + seconds) : String.valueOf(seconds);

        if (isInOpening(minStr + ":" + secStr, opStart, opEnd)) return opEnd;
        
        return minStr + ":" + secStr;
    }
    
    private String nextVideo(String position, String opStart, String opEnd, String videoLength) {
        int minutes = Integer.parseInt(position.split(":")[0]);
        int seconds = Integer.parseInt(position.split(":")[1]);
        
        if (seconds + 10 > 59) {
            int videoMin = Integer.parseInt(videoLength.split(":")[0]);
            int videoSec = Integer.parseInt(videoLength.split(":")[1]);
            
            if (minutes + 1 > videoMin) {
                return videoLength;
            }
            
            minutes++;
            seconds = (seconds + 10) - 60;
        } else {
            seconds += 10;
        }
      
        String minStr = minutes < 10 ? String.valueOf("0" + minutes) : String.valueOf(minutes);
        String secStr = seconds < 10 ? String.valueOf("0" + seconds) : String.valueOf(seconds);

        if (isInOpening(minStr + ":" + secStr, opStart, opEnd)) return opEnd;
        
        return minStr + ":" + secStr;
    }
    
    private boolean isInOpening(String position, String opStart, String opEnd) {
        return convertTimeToInt(opStart) <= convertTimeToInt(position) && convertTimeToInt(position) <= convertTimeToInt(opEnd);
    }
    
    private int convertTimeToInt(String target) {
        int minutes = Integer.parseInt(target.split(":")[0]);
        int seconds = Integer.parseInt(target.split(":")[1]);
        
        return minutes * 100 + seconds;
    }
}
```
- 풀이에 35분이나 걸림
	- 시간 기반의 구현 문제는 항상 오래 걸리는듯
	- 시간을 초 단위로 바꿔야 쉽게 풀 수 있었음
- 1/3의 테케가 틀림
	- 총 두 개의 예외 케이스를 발견했고, 하나는 직접 하나는 찾지 못해 다른 사람 풀이 확인
	- nextVideo에서 동영상 길이를 벗어나는 값을 검사할 때 초 단위 조건을 누락
	- prevVideo에서 minutes가 음수일 경우 바로 00:00으로 return 하지말고 오프닝 구간인지를 먼저 검사해야 함

시간 구현 + 엣지 케이스로 쉽지 않았음

# 2차 풀이
```java
class Solution {
    public String solution(String video_len, String pos, String op_start, String op_end, String[] commands) {
        int videoLength = stringTimeToInteger(video_len);
        int opStart = stringTimeToInteger(op_start);
        int opEnd = stringTimeToInteger(op_end);
        int position = moveToOpEndIfInRangeOfOpening(stringTimeToInteger(pos), opStart, opEnd); // 최초 위치가 오프닝 구간이면 오프닝 끝나는 곳으로 이동
        
        for (String command : commands) {
            if (command.equals("prev")) {
                position = prev(position);
            } else {
                position = next(position, videoLength);
            }
            
            position = moveToOpEndIfInRangeOfOpening(position, opStart, opEnd);
        }
        
        String minutes = position / 100 < 10 ? "0" + position / 100 : String.valueOf(position / 100);
        String seconds = position % 100 < 10 ? "0" + position % 100 : String.valueOf(position % 100);
        
        return minutes + ":" + seconds;
    }
    
    private int prev(int position) {
        int minutes = position / 100;
        int seconds = position % 100;
        
        if (seconds < 10)  {
            if (minutes < 1) {
                return 0;
            }
            
            minutes--;
            seconds = 60 - (10 - seconds);
        } else {
            seconds -= 10;
        }
        
        return minutes * 100 + seconds;
    }
    
    private int next(int position, int videoLength) {
        int minutes = position / 100;
        int seconds = position % 100;
        
        if (seconds > 49) {
            minutes++;
            seconds = (seconds + 10) - 60;
        } else {
            seconds += 10;
        }
        
        position = minutes * 100 + seconds;
        return position > videoLength ? videoLength : position;
    }
    
    private int moveToOpEndIfInRangeOfOpening(int position, int opStart, int opEnd) {
        return (opStart <= position && position <= opEnd) ? opEnd : position;
    }
    
    private int stringTimeToInteger(String target) {
        int minutes = Integer.parseInt(target.split(":")[0]);
        int seconds = Integer.parseInt(target.split(":")[1]);
        
        return minutes * 100 + seconds;
    }
}
```
한번 풀어본데다가 엣지 케이스도 인지한 상태라 어렵지 않게 풀었음
다만 아래 풀이처럼 시간을 `분 * 100 + 초` 로 표현하지 않고, `초` 단위로 풀이한다면 더 깔끔한 풀이를 만들 수 있음

```java
class Solution {

    public int convertToSeconds(String time) {
        String[] split = time.split(":");
        return Integer.parseInt(split[0]) * 60 + Integer.parseInt(split[1]);
    }

    public String solution(String video_len, String pos, String op_start, String op_end, String[] commands) {
        // 각 시간들 초로 변환
        int videoLenSec = convertToSeconds(video_len),
            posSec = convertToSeconds(pos),
            opStartSec = convertToSeconds(op_start),
            opEndSec = convertToSeconds(op_end);

        if (posSec >= opStartSec && posSec <= opEndSec) posSec = opEndSec; // 시작 값 오프닝 구간 확인

        for (String command : commands) {
            if (command.equals("next")) posSec = posSec + 10 >= videoLenSec ? videoLenSec : posSec + 10;
            else posSec = posSec - 10 > 0 ? posSec - 10 : 0;

            if (posSec >= opStartSec && posSec <= opEndSec) posSec = opEndSec; // 오프닝 구간 확인
        }

        int m = posSec / 60,
            s = posSec % 60;

        String answer = "";     // StringBuilder 쓸정도 아님
        answer += m < 10 ? "0" + m : m + "";
        answer += ":";
        answer += s < 10 ? "0" + s : s + "";

        return answer;
    }
}
```

# 3차 풀이
```java
class Solution {
    public String solution(String video_len, String pos, String op_start, String op_end, String[] commands) {
        int videoLength = toSeconds(video_len);
        int position = toSeconds(pos);
        int openingStart = toSeconds(op_start);
        int openingEnd = toSeconds(op_end);
        if (openingStart <= position && position <= openingEnd) position = openingEnd;
        
        for (String command : commands) {
            if (command.equals("prev")) {
                position = prev(position);
            } else {
                position = next(position, videoLength);
            }
            
            if (openingStart <= position && position <= openingEnd) position = openingEnd;
        }
        
        
        String minutes = position / 60 < 10 ? "0" + position / 60 : String.valueOf(position / 60);
        String seconds = position % 60 < 10 ? "0" + position % 60 : String.valueOf(position % 60);
        
        return minutes + ":" + seconds;
    }
    
    private int toSeconds(String target) {
        int minutes = Integer.parseInt(target.split(":")[0]);
        int seconds = Integer.parseInt(target.split(":")[1]);
        
        return minutes * 60 + seconds;
    }
    
    private int prev(int position) {
        return position - 10 < 0 ? 0 : position - 10;
    }
    
    private int next(int position, int videoLength) {
        return position + 10 > videoLength ? videoLength : position + 10;
    }
}
```
- 문자열 시간을 초로 변경하여 쉽게 풀 수 있었음
- 이처럼 문자열 시간, 정수형 시간을 어떤 단위로 나누냐에 따라 문제 풀이 난도 차이가 크게 발생함
- 