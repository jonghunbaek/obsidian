---
플랫폼: 프로그래머스
알고리즘: 문자열, 구현
tags:
  - 문자열
  - 구현
date: 2026-02-10
복습 풀이: 260210(O), 260214(X)
---
# 1차 풀이
```java
// 1. 구현
// 2. 점수, 보너스는 항상 존재하지만 옵션은 옵셔널
// 3. 문자열에서 각 세트의 구분을 어떻게? -> StringTokenizer 또는 split 이용시 옵션이 어디 위치인지 알수 없음
// 3-1. 따라서, 문자열을 순회하는 것이 가장 적합한 접근으로 보임
// 4. 계산에 필요한 피연산자는 Stack에 담아 나중에 한번에 합산(처음엔 list로 접근, 코딩하며 stack으로 변경)
import java.util.*;

class Solution {
    public int solution(String dartResult) {
        Stack<Integer> values = new Stack<>();
        int sum = 0;
        int value = 0;
        for (int i = 0; i < dartResult.length(); i++) {
            char c = dartResult.charAt(i);
            if (Character.isDigit(c)) {
                value = c - '0';
                
                if (Character.isDigit(dartResult.charAt(i + 1))) {
                    value = 10;
                    i++;
                }
        
                continue;
            }
            
            if (Character.isAlphabetic(c)) {
                if (c == 'D') {
                    value = value * value;    
                } else if (c == 'T') {
                    value = value * value * value;    
                }
                
                if ((i + 1 < dartResult.length() && (dartResult.charAt(i + 1) != '*' && dartResult.charAt(i + 1) != '#')) || i == dartResult.length() - 1) { 
                    values.push(value);
                    continue;
                }
            }
            
            if (c == '*') {
                if (!values.isEmpty()) {
                    int previous = values.pop();
                    values.push(previous * 2);
                }
                
                values.push(value * 2);
            } else if (c == '#') {
                values.push(-1 * value);
            }
        }
        
        return values.stream()
            .mapToInt(Integer::intValue)
            .sum();
    }
}
```
- 숫자 기준으로 문자열을 분리하면 쉽게 풀 수 있었을텐데, 10이란 숫자를 어떻게 구분해야할지 몰라 그냥 문자열 순회로 해결
- 해당 부분이 안되니 결국 지저분하게 문제를 풀게됨

아래는 내가 생각했던 이상적인 풀이
```java
import java.util.regex.Matcher;
import java.util.regex.Pattern;
import java.util.ArrayList;
import java.util.List;

class Solution {
    public int solution(String dartResult) {
        // 1. 정규식 패턴 정의 (점수, 보너스, 옵션)
        Pattern pattern = Pattern.compile("([0-9]{1,2})([SDT])([*#]?)");
        Matcher matcher = pattern.matcher(dartResult);
        
        // 점수를 저장할 리스트 (또는 스택/배열)
        List<Integer> scores = new ArrayList<>();
        
        // 2. 매칭되는 패턴(한 세트)마다 반복
        while (matcher.find()) {
            // Group 1: 점수 (0~10)
            int score = Integer.parseInt(matcher.group(1));
            
            // Group 2: 보너스 (S, D, T)
            String bonus = matcher.group(2);
            if (bonus.equals("D")) {
                score = (int) Math.pow(score, 2);
            } else if (bonus.equals("T")) {
                score = (int) Math.pow(score, 3);
            }
            
            // Group 3: 옵션 (*, #, 혹은 빈 문자열)
            String option = matcher.group(3);
            if (option.equals("*")) {
                score *= 2;
                // 바로 전 점수도 2배 (존재한다면)
                if (!scores.isEmpty()) {
                    scores.set(scores.size() - 1, scores.get(scores.size() - 1) * 2);
                }
            } else if (option.equals("#")) {
                score *= -1;
            }
            
            scores.add(score);
        }
        
        // 3. 총합 계산
        return scores.stream().mapToInt(Integer::intValue).sum();
    }
}
```

# 2차 풀이
```java
import java.util.*;

class Solution {
    public int solution(String dartResult) {
        int value = 0;
        Stack<Integer> stack = new Stack<>();
        for (int i = 0; i < dartResult.length(); i++) {
            char c = dartResult.charAt(i);
            if (Character.isDigit(c)) {
                value = c - '0';
                if (Character.isDigit(dartResult.charAt(i + 1))) {
                    value = 10;
                    i++;
                }
                
                continue;
            }
            
            if (Character.isAlphabetic(c)) {
                if (c == 'D') {
                    value *= value;
                } else if (c == 'T') {
                    value *= value * value;
                }
              
                if ((i + 1 < dartResult.length() && Character.isDigit(dartResult.charAt(i + 1))) || i == dartResult.length() - 1) {
                    stack.push(value);
                    continue;
                }
                
            }
            
            
            if (c == '*') {
                if (!stack.isEmpty()) {
                    stack.push(stack.pop() * 2);
                }
                
                stack.push(value * 2);
            } else if (c == '#') {
                stack.push(value * -1);
            }
        }
        
        return stack.stream()
            .mapToInt(Integer::intValue)
            .sum();
    }
}
```