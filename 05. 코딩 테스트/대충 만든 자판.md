---
플랫폼: 프로그래머스
알고리즘: 완전탐색, 해시
tags:
  - 완전탐색
  - 해시
date: 2025-12-30
복습 풀이: 251230(O), 260105(O), 260110(O)
---
# 1차 풀이
```java
// 완전탐색

class Solution {
    public int[] solution(String[] keymap, String[] targets) {
        int[] results = new int[targets.length];
        for (int t = 0; t < targets.length; t++) {
            int sum = 0;
            
            for (int i = 0; i < targets[t].length(); i++) {
                char targetChar = targets[t].charAt(i);
                
                int min = Integer.MAX_VALUE;
                for (String key : keymap) {
                    for (int k = 0; k < key.length(); k++) {
                        if (key.charAt(k) == targetChar) {
                            min = Math.min(min, k + 1);
                            break;
                        }
                    }
                }
                
                if (min == Integer.MAX_VALUE) {
                    sum = -1;
                    break;
                } else {
                    sum += min;    
                }
            }
            
            results[t] = sum;
        }
        
        return results;
    }
}
```
완전 탐색보단 해시를 이용하는 것이 효율적인 풀이

# 2차 풀이
```java
class Solution {
    public int[] solution(String[] keymap, String[] targets) {
        int[] results = new int[targets.length];
        for (int i = 0; i < targets.length; i++) {
            int sum = 0;
            for (int j = 0; j < targets[i].length(); j++) {
                char target = targets[i].charAt(j);
                int min = Integer.MAX_VALUE;
                for (String key : keymap) {
                    for (int m = 0; m < key.length(); m++) {
                        if (key.charAt(m) == target) {
                            min = Math.min(min, m + 1);
                        }
                    }
                }
                
                if (min == Integer.MAX_VALUE) {
                    results[i] = -1;    
                    break;
                } else {
                    sum += min;    
                }
            }
            
            if (results[i] != -1) {
                results[i] = sum;
            }
        }
        
        return results;
    }
}
```
다음 풀이 땐 완탐이 아닌 해시로 풀어보기

# 3차 풀이
```java
import java.util.*;

class Solution {
    public int[] solution(String[] keymap, String[] targets) {
        Map<Character, Integer> countByChar = new HashMap<>();
        for (String key : keymap) {
            int count = 1;
            for (char c : key.toCharArray()) {
                if (countByChar.containsKey(c)) {
                    countByChar.put(c, Math.min(count, countByChar.get((c))));
                } else {
                    countByChar.put(c, count);    
                }
                
                count++;
            }
        }
        
        int[] results = new int[targets.length];
        for (int i = 0; i < targets.length; i++) {
            int sum = 0;
            for (char c : targets[i].toCharArray()) {
                if (countByChar.containsKey(c)) {
                    sum += countByChar.get(c);
                } else {
                    sum = -1;
                    break;
                }
            }
            
            results[i] = sum;
        }
        
        return results;
    }
}
```